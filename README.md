# EDA & Dashboard
_El objetivo de este proyecto es realizar un an√°lisis exploratorio de dos conjuntos de datos de elecci√≥n propia (series y pel√≠culas de Disney+ y Netflix) y reflejarlo en un dashboard. Para desarrollar el EDA y an√°lisis de los datos he decidido emplear Visual Studio Code, mientras que para la elaboraci√≥n del dashboard y visualizaci√≥n de los datos me decant√© por el uso de Excel._

## Pasos realizados üìã
### Visual Studio Code üìò
-	El primer paso es la apertura de archivos csv. Para ello, importamos pandas y numpy y utilizamos _pd.read_csv_ para cargar los archivos y almacenar los datos en un DataFrame.
-	Como pandas por defecto al tener muchas columnas √∫nicamente muestra las del inicio y las del final, debemos usar _pd.set_option(‚Äúdisplay.max_columns‚Äù, None)_ para que nos muestre todas las columnas de cada documento.
-	Para la combinaci√≥n de DataFrames vamos a emplear el m√©todo _concat_ debido a que se utiliza una columna de referencia para juntar ambos documentos, por lo que simplemente se a√±aden los datos seg√∫n el eje horizontal o vertical.
### M√©todos b√°sicos üîß
-	Vamos a proceder a mostrar algunos datos b√°sicos de cada uno de nuestros DataFrames, como _head_ (las primeras 5 filas), _tail_ (las 5 √∫ltimas filas), _sample_ (filas al azar), _shape_ (n√∫mero de filas y de columnas), _size_ (n√∫mero total de celdas), _columns_ (nombre de las columnas), _info_ (tipos de datos y n√∫meros de valores no nulos) y _dtypes_ (tipos de datos en las columnas).
-	El siguiente paso es comprobar los datos nulos, por lo que empleamos _isnull_ (pregunta a las celdas si son valores nulos y con _sum_ nos da el n√∫mero total) e _isna_ (igual a _isnull_ pero con NaN). Los √∫nicos valores nulos se encuentran en las columnas correspondientes a la fecha en que se a√±adieron a la plataforma, el director, el reparto, el pa√≠s de producci√≥n, la duraci√≥n y la clasificaci√≥n. Aunque algunas de estas columnas tienen una cantidad peque√±a de datos nulos, otras como el director, el reparto y el pa√≠s de producci√≥n cuentan con m√°s de 1000 valores nulos cada una.
-	Si queremos revisar los duplicados tenemos que utilizar _duplicated_ (comprueba los duplicados y con _sum_ nos da el n√∫mero total). Gracias a ello, verificamos que no existe ning√∫n valor duplicado en los DataFrames.
-	Adem√°s, para realizar un an√°lisis estad√≠stico adecuado para describir los principales atributos de cada conjunto de datos debemos emplear _describe_, que muestra los datos estad√≠sticos de las columnas (es decir, el conteo total de valores, la media, la desviaci√≥n est√°ndar, el valor m√≠nimo, los tres cuartiles y el valor m√°ximo).
### Filtrado de datos üîé
-	Para el filtrado de datos, vamos a seleccionar √∫nicamente las pel√≠culas. Para ello, empleamos una condici√≥n y la aplicamos al DataFrame, luego mostramos los primeros 5 resultados como ejemplo.
-	A continuaci√≥n, creamos otra condici√≥n (repitiendo los mismos pasos de la anterior) en la que solo se seleccionar√°n aquellas series o pel√≠culas que hayan sido estrenadas despu√©s de 2020. Como queremos que se cumplan ambas condiciones, las combinamos utilizando _&_. Tambi√©n queremos visualizar los resultados de que se cumpla al menos una de las dos condiciones, por lo que usamos _|_.
-	Para aplicar _isin_ filtraremos la columna de pa√≠s de producci√≥n, √∫nicamente obteniendo los resultados de UK y Espa√±a.
-	Como queremos utilizar _between_, usaremos la columna "release_year" para tener como resultado las pel√≠culas y series que han sido estrenadas entre 2005 y 2010.
-	El m√©todo _str.contains_ lo aplicaremos en la columna de "cast" para visualizar aquellos shows en los que ha aparecido Jennifer Lawrence.
-	Para el ejemplo de _filter_, seleccionaremos las columnas de t√≠tulo y clasificaci√≥n de las pel√≠culas y series.
### Tranformaci√≥n del DataFrame y agrupaci√≥n de datos üíª
-	El siguiente paso es realizar una modificaci√≥n de la estructura de nuestro DataFrame, por lo que, aunque no haya ninguna columna que a priori no sea relevante, ni ninguna fila con datos duplicados, se ha decidido eliminar una de ellas mediante el m√©todo _drop_. Para ello, se ha guardado el resultado en una variable, evitando as√≠ la variaci√≥n del DataFrame original.
-	Para realizar la agrupaci√≥n de datos, vamos a necesitar responder a cualquier pregunta, que en nuestro caso ser√°: ¬øcu√°l es la media del a√±o de estreno de series y pel√≠culas para cada director? Si queremos que nos devuelva el resultado como un DataFrame, adem√°s de _groupby_ debemos aplicar _reset_index_ a cada consulta.
-	El siguiente paso es utilizar las funciones de agregaci√≥n, que a√±adido a los pasos previos nos permitir√° calcular simult√°neamente la media, mediana, desviaci√≥n, m√°ximo y m√≠nimo del a√±o de estreno de los shows seg√∫n la clasificaci√≥n establecida.
-	Si queremos saber los √≠ndices donde aparecen las series y pel√≠culas producidas en Corea del Sur despu√©s de realizar una agrupaci√≥n seg√∫n el pa√≠s, debemos emplear _groups_. Por otro lado, para √∫nicamente obtener los datos de los shows despu√©s de la agrupaci√≥n en otro DataFrame, tenemos que utilizar _get_group_.
### M√©todos avanzados üî©
-	Para emplear el m√©todo _apply_, el primer paso que vamos a hacer es categorizar los a√±os de estreno de las pel√≠culas y series en distintos grupos. Para ello, empezamos creando una funci√≥n que reciba el a√±o y nos devuelva la categor√≠a. Posteriormente, aplicamos dicha funci√≥n a nuestro DataFrame, obteniendo as√≠ la nueva columna con los a√±os filtrados.
-	Otra de las cosas que se pueden hacer con este m√©todo es cambiar el tipo de dato, por lo que vamos a probarlo cambiando la columna del a√±o de estreno de _int_ a _float_, definiendo una funci√≥n previamente como en el caso anterior.
-	Revertiremos este cambio empleando _lambda_ en el _apply_, que para funciones simples es lo ideal por ser m√°s sencilla y legible para el programador. Tambi√©n, con _lambda_ tambi√©n se pueden usar condicionales, por lo que haremos un peque√±o ejemplo cambiando los valores de la columna ‚Äútype‚Äù (indica si se trata de una pel√≠cula o serie), de "Movie" y "TV Show" a "Pel√≠cula" y "Serie".
-	Adem√°s, en estas funciones _lambda_ se puede usar m√°s de un par√°metro, por lo que definiremos una funci√≥n para comprobar si los shows son √∫nicamente series y cuyo a√±o de estreno es el 2015. Despu√©s, llamamos a la funci√≥n utilizando _apply_ y _lambda_, asegur√°ndonos de que _axis = 1_ para que mire los datos en las columnas (y no de las filas).
-	Para el pivotado de datos se crear√°n tablas din√°micas que resumen la informaci√≥n de otras tablas. En nuestro caso, a trav√©s de _pivot_table_ realizaremos un conteo (funci√≥n de agregaci√≥n) de las pel√≠culas y las series para cada clasificaci√≥n.
-	El m√©todo _melt_ nos permite transformar un DataFrame con muchas columnas en otro con menos, donde una o m√°s son variables de identificaci√≥n y otras se fusionan. Es decir, es una herramienta esencial para manipular datos en pandas, permitiendo una mayor flexibilidad y eficiencia en la exploraci√≥n y an√°lisis de conjuntos de datos. En nuestro caso, empleamos las columnas de tipo, a√±o de estreno y clasificaci√≥n de las pel√≠culas y series para este ejemplo.
-	Con esto terminaremos la primera parte del trabajo con Python y procederemos a la segunda parte correspondiente al Excel.
  
### Excel üìó
-	El primer paso es la apertura de los archivos y la uni√≥n de las tablas, obteniendo los datos a partir de los csv. De esta forma, obtenemos una √∫nica tabla que contiene la informaci√≥n de las series y pel√≠culas tanto de Disney+ como de Netflix.
-	A continuaci√≥n, sustituimos todos los IDs (que estaban marcados como ‚Äús1‚Äù, ‚Äús2‚Äù, etc.) por una secuencia num√©rica. Esto se debe a que gran parte de estos identificadores estaban duplicados porque existe una serie o pel√≠cula correspondiente al ID ‚Äús1‚Äù (por ejemplo) en ambas tablas.
-	Despu√©s, crearemos una nueva columna que corresponda al d√≠a de la semana en que se a√±adi√≥ el show a la plataforma. Empleamos la funci√≥n _TEXTO_ y referenciamos a la fecha de ingreso para obtenerlo. Esto nos servir√° posteriormente para representarlo en gr√°ficos y tablas de manera m√°s clara.
### Tablas y gr√°ficos din√°micos üìä
-	El pr√≥ximo paso es empezar con las tablas din√°micas, esto sirve para tener un r√°pido an√°lisis de los datos, f√°cil actualizaci√≥n de los datos, una mayor flexibilidad a la hora de cambiar la estructura de la tabla y adem√°s esto facilitar√° la creaci√≥n de gr√°ficos din√°micos. Para ello, resumimos toda la tabla en varias tablas din√°micas que a√±adiremos a una hoja de c√°lculo nueva, y que emplearemos para calcular los KPIs y los dem√°s datos que emplearemos posteriormente para el dashboard.
-	Lo primero de todo es calcular el n√∫mero de pel√≠culas, series y el total de ambos. Para ello empleamos tanto la funci√≥n _CONTARA_ (para realizar un conteo del total de shows de las plataformas) debido a que las celdas correspondientes al ID son un c√≥digo √∫nico, como la funci√≥n _CONTAR.SI_ (para contar de manera individual las pel√≠culas y las series) porque podemos filtrar el recuento por el tipo de contenido.
-	Adem√°s, comenzamos usando las tablas din√°micas para evaluar cu√°ntos shows se han a√±adido a las plataformas en el √∫ltimo mes. Por lo que utilizaremos un conteo de IDs en el campo de valores de la tabla din√°mica y lo filtraremos mediante el a√±o y el mes en que se han subido a las plataformas para obtener as√≠ las novedades del √∫ltimo mes. 
-	Tambi√©n queremos ver c√≥mo evolucionan la adici√≥n de shows a las plataformas seg√∫n el tiempo, as√≠ que creamos una nueva tabla din√°mica en la que a√±adimos un recuento de IDs en el campo de valores y la fecha de subida en las filas (tanto meses como a√±os, por si se quiere visualizar de manera m√°s detallada). Creamos para esta tabla un gr√°fico din√°mico, esta vez el dise√±o ser√° de l√≠neas y cambiamos el color para que se ajuste a la paleta de colores de la hoja.
-	Por otro lado, nos interesa obtener el d√≠a de la semana en que se sube una mayor cantidad de contenido a las plataformas. Por lo que creamos una tabla din√°mica, en la que introducimos el d√≠a de la semana en que se a√±adi√≥ el contenido como fila y colocamos un conteo de IDs en los valores de la tabla. Creamos un gr√°fico din√°mico para la tabla, cuyo dise√±o ser√° de l√≠neas y la paleta de colores azulada, con las etiquetas de los valores por encima de dichas l√≠neas (igual que el gr√°fico anterior).
-	Posteriormente, buscamos la cantidad de series y pel√≠culas en funci√≥n del tipo de contenido. Por lo que se crea una nueva tabla din√°mica y se realiza un recuento de los distintos IDs en el campo de valores, aunque esta vez situamos el tipo de contenido en las filas de la tabla, obteniendo as√≠ el resultado buscado. De manera predeterminada se establece un gr√°fico de barras, aunque en este caso nos interesa m√°s que sea de tipo tarta, adem√°s cambiamos los colores y el dise√±o para que aparezca el porcentaje correspondiente a cada sector.
-	A continuaci√≥n, queremos saber la cantidad de pel√≠culas y series que hay seg√∫n su clasificaci√≥n. Para ello, creamos una nueva tabla din√°mica, introducimos un conteo de IDs en el campo de valores y la clasificaci√≥n en el campo de las filas. De nuevo, nos interesa que el gr√°fico sea de tipo tarta, cambiando tanto el dise√±o como la paleta de colores a tonos azulados para complementar al resto de gr√°ficos de la hoja.
-	Seguidamente, nos interesa conocer la cantidad de pel√≠culas y series que se han estrenado seg√∫n el a√±o. Por lo que se crea una nueva tabla din√°mica, donde colocamos la clasificaci√≥n en el campo de las filas y realizamos un recuento de los IDs en el campo de los valores. En este √∫ltimo gr√°fico establecemos el dise√±o predeterminado de barras, manteniendo tambi√©n el color azul por defecto.
### Dashboard üìà
-	Para la creaci√≥n del dashboard creamos una nueva hoja y distribuimos las formas en ella, de tal manera que realizaremos un an√°lisis de los shows de Disney+ y Netflix, donde cada una de las cajas equivale a un tema (por ejemplo, ‚ÄúContenido a√±adido a lo largo del tiempo‚Äù o ‚ÄúResumen de clasificaciones‚Äù).
-	Comenzamos por los big numbers, donde colocamos el total de usuarios, total de pel√≠culas, total de series y las novedades en el √∫ltimo mes. A continuaci√≥n, colocamos las gr√°ficas de contenido a√±adido a lo largo del mes y contenido a√±adido a lo largo de la semana. Por √∫ltimo, el tipo de contenido, los a√±os de estreno y el resumen de calificaciones.
-	El √∫ltimo paso es a√±adir segmentadores a todas las gr√°ficas empleadas para que se puedan filtrar en el dashboard de manera interactiva. En este caso, implementaremos el filtro de tipo de contenido, a√±o de estreno, clasificaci√≥n y a√±o, mes y d√≠a de la adici√≥n a la plataforma. Para que funcione correctamente, conectaremos todos los segmentadores a las tablas pertenecientes del dashboard.
